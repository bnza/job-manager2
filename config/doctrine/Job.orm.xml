<?xml version="1.0" encoding="UTF-8" ?>

<doctrine-mapping xmlns="https://doctrine-project.org/schemas/orm/doctrine-mapping"
    xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://doctrine-project.org/schemas/orm/doctrine-mapping
                          https://www.doctrine-project.org/schemas/orm/doctrine-mapping.xsd">

    <entity name="Bnza\JobManagerBundle\Entity\Job" schema="bnza_job_manager" table="job"
        repository-class="Bnza\JobManagerBundle\Repository\JobRepository">
        <id name="id" type="uuid">
            <generator strategy="CUSTOM"/>
            <custom-id-generator class="Symfony\Bridge\Doctrine\IdGenerator\UuidGenerator"/>
        </id>
        <field name="name"/>
        <field name="class"/>
        <field name="service"/>
        <field name="parameters" type="json" nullable="true">
            <options>
                <option name="jsonb">true</option>
            </options>
        </field>
        <field name="stepsCount" type="smallint"/>
        <field name="status" type="job_status"/>
        <field name="startedAt" type="bigint" nullable="true"/>
        <field name="terminatedAt" type="bigint" nullable="true"/>
    </entity>

</doctrine-mapping>
